<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
      <link rel="shortcut icon" href="../img/favicon.ico" />
    <title>Firefly Algorithm - Optiseek</title>
    <link rel="stylesheet" href="../css/theme.css" />
    <link rel="stylesheet" href="../css/theme_extra.css" />
        <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/styles/github.min.css" />
    
      <script>
        // Current page data
        var mkdocs_page_name = "Firefly Algorithm";
        var mkdocs_page_input_path = "firefly_algorithm.md";
        var mkdocs_page_url = null;
      </script>
    
    <script src="../js/jquery-3.6.0.min.js" defer></script>
    <!--[if lt IE 9]>
      <script src="../js/html5shiv.min.js"></script>
    <![endif]-->
      <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/10.5.0/highlight.min.js"></script>
      <script>hljs.initHighlightingOnLoad();</script> 
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
    <div class="wy-side-scroll">
      <div class="wy-side-nav-search">
          <a href=".." class="icon icon-home"> Optiseek
        </a><div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../search.html" method="get">
      <input type="text" name="q" placeholder="Search docs" title="Type search term here" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="..">Home</a>
                </li>
              </ul>
              <ul>
                <li class="toctree-l1"><a class="reference internal" href="../examples/">Quick Start Examples</a>
                </li>
              </ul>
              <p class="caption"><span class="caption-text">optiseek API</span></p>
              <ul class="current">
                  <li class="toctree-l1"><a class="reference internal" href="#">.variables</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../variables/">Variable Types</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1 current"><a class="reference internal current" href="#">.metaheuristics</a>
    <ul class="current">
                <li class="toctree-l2 current"><a class="reference internal current" href="#">Population-Based Methods</a>
    <ul class="current">
                <li class="toctree-l3"><a class="reference internal" href="../particle_swarm_optimization/">Particle Swarm Optimizer</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../differential_evolution/">Differential Evolution</a>
                </li>
                <li class="toctree-l3 current"><a class="reference internal current" href="./">Firefly Algorithm</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../mayfly_algorithm/">Mayfly Algorithm</a>
                </li>
                <li class="toctree-l3"><a class="reference internal" href="../flying_foxes_algorithm/">Flying Foxes Algorithm</a>
                </li>
    </ul>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="#">Local Search Methods</a>
    <ul>
                <li class="toctree-l3"><a class="reference internal" href="../simulated_annealing/">Simulated Annealing</a>
                </li>
    </ul>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">.modelhelpers</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../penalty_constraints/">Penalty Constraints</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../parameter_grid_search/">Parameter Grid Search</a>
                </li>
    </ul>
                  </li>
                  <li class="toctree-l1"><a class="reference internal" href="#">.testfunctions</a>
    <ul>
                <li class="toctree-l2"><a class="reference internal" href="../ackley/">Ackley Function</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../booth/">Booth Function</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../rosenbrock/">Rosenbrock Function</a>
                </li>
                <li class="toctree-l2"><a class="reference internal" href="../wheelers_ridge/">Wheeler's Ridge</a>
                </li>
    </ul>
                  </li>
              </ul>
      </div>
    </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">
      <nav class="wy-nav-top" role="navigation" aria-label="Mobile navigation menu">
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="..">Optiseek</a>
        
      </nav>
      <div class="wy-nav-content">
        <div class="rst-content"><div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href=".." class="icon icon-home" alt="Docs"></a> &raquo;</li>
          <li>optiseek API &raquo;</li>
          <li>.metaheuristics &raquo;</li>
          <li>Population-Based Methods &raquo;</li><li>Firefly Algorithm</li>
    <li class="wy-breadcrumbs-aside">
    </li>
  </ul>
  <hr/>
</div>

          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
            <div class="section" itemprop="articleBody">
              
                <h1 id="firefly-algorithm">Firefly Algorithm</h1>
<p>This class represents the firefly algorithm developed by Xin-She Yang. </p>
<p>This algorithm is based on the flashing patterns and swarm behavior of fireflies. Fireflies are attracted to others based on their proximity in the search space and
the brightness (function values) of others. Their movements also have a stochastic component.</p>
<hr />
<blockquote>
<p><em>class</em> optiseek.metaheuristics.<strong>firefly_algorithm</strong>(<em>input_function=None, var_list=None, linspaced_initial_positions=True, results_filename=None, n_fireflies=None, beta=1.0, alpha=0.05, gamma=0.5</em>)</p>
</blockquote>
<hr />
<h3 id="parameters">Parameters</h3>
<p>All parameters are also class attributes and may be modified after instantiation.</p>
<table>
<thead>
<tr>
<th>Parameter</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>input_function : <em>function</em></td>
<td>Function that the algorithm will use to search for an optimum.<br/> *args will be passed to the function within the solver.</td>
</tr>
<tr>
<td>var_list : <em>list of variables</em></td>
<td>List of variables (see variable types) to define the search space.<br/> These correspond to the arguments of the objective function<br/> and must be in the exact same order.</td>
</tr>
<tr>
<td>linspaced_initial_positions : <em>bool</em></td>
<td>If true, creates a linearly spaced set of points in each search<br/> dimension, and the initial positions of the population are set to<br/> mutually exclusive combinations of these points. This guarantees<br/> that there will be no empty spots in a single dimension. If false,<br/> random initial positions are chosen.</td>
</tr>
<tr>
<td>results_filename : <em>string</em></td>
<td>If a file name is passed (ending in '.csv'), the results will be written<br/> to this file after each function evaluation. This can noticeably slow<br/> down solution iterations for quick objective functions. For greedy<br/> functions, it can be beneficial to do this in case the script is<br/> interrupted.</td>
</tr>
<tr>
<td>n_fireflies : <em>int</em></td>
<td>Number of fireflies to use in the swarm population. If set to<br/> <code>None</code>, the population size will be based on the heuristic<br/> 10 + 2 * sqrt(n_dims), where n_dims is the dimensionality of<br/> the search space. This is typically sufficient to explore the<br/> whole search space.</td>
</tr>
<tr>
<td>beta : <em>float</em></td>
<td>Linear visibility coefficient in [0.1, 1.5]. Lower value indicates<br/> that the fireflies are less attracted to each other.</td>
</tr>
<tr>
<td>alpha : <em>float</em></td>
<td>Coefficient in [0, 0.1] that is a portion of each dimension's<br/>  bound widths to use for the random walk.</td>
</tr>
<tr>
<td>gamma : <em>float</em></td>
<td>Exponential visibility coefficient in [0.01, 1]. Higher value<br/> indicates that the fireflies are less attracted to each other.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="attributes">Attributes</h3>
<table>
<thead>
<tr>
<th>Attribute</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>best_position : <em>dict</em></td>
<td>Dictionary containing the most optimal position found during the solution<br/> iterations, with variable names as keys and corresponding position values<br/> as values.</td>
</tr>
<tr>
<td>best_value : <em>float</em></td>
<td>Most optimal function value found during the solution iterations.</td>
</tr>
<tr>
<td>completed_iter : <em>int</em></td>
<td>Number of iterations completed during the solution process.</td>
</tr>
<tr>
<td>results : <em>pd.DataFrame</em></td>
<td>DataFrame of results throughout the iterations. For each iteration, the<br/> function value and position for each member of the population are provided.</td>
</tr>
</tbody>
</table>
<hr />
<h3 id="methods">Methods</h3>
<p><strong>.optimize</strong>(<em>find_minimum, max_iter=None, max_function_evals=None, max_unchanged_iter=None, sol_threshold=None</em>)</p>
<blockquote>
<p>Executes the algorithm solution with the current parameters. 
Results will be stored to the class attributes. 
Either <em>max_iter</em> or <em>max_function_evals</em> must be specified in order to prevent an endless optimization loop.
If any of the criteria are met during optimization, the process is terminated.</p>
<table>
<thead>
<tr>
<th>Argument</th>
<th>Description</th>
</tr>
</thead>
<tbody>
<tr>
<td>find_minimum : <em>bool</em></td>
<td>Indicates whether the optimimum of interest is a minimum or<br/> maximum. If true, looks for minimum. If false, looks for maximum.</td>
</tr>
<tr>
<td>max_iter : <em>int</em></td>
<td>Maximum number of iterations. The algorithm will terminate after<br/> completing this many iterations. <code>None</code> indicates that the algorithm<br/> will not consider this.</td>
</tr>
<tr>
<td>max_function_evals : <em>int</em></td>
<td>Maximum number of function evaluations. Must be greater than the<br/> size of the population (i.e. complete at least one iteration). The<br/> algorithm will terminate after completing this many function<br/> evaluations. This is a preferable metric for greedy algorithms. <br/><code>None</code> indicates that the algorithm will not consider this.</td>
</tr>
<tr>
<td>max_unchanged_iter : <em>int</em></td>
<td>If the solution does not improve after this many iterations,<br/> the optimization terminates. <code>None</code> indicates that the algorithm<br/> will not consider this.</td>
</tr>
<tr>
<td>sol_threshold : <em>float</em></td>
<td>If a solution is found better than this threshold, the iterations<br/> stop. <code>None</code> indicates that the algorithm will not consider this.</td>
</tr>
</tbody>
</table>
</blockquote>
<hr />
<h3 id="example">Example</h3>
<pre><code class="language-python">from optiseek.variables import var_float
from optiseek.metaheuristics import firefly_algorithm
from optiseek.testfunctions import booth

# define a list of variables and their domains for the objective function
var_list = [
    var_float('x1', [-10, 10]),
    var_float('x2', [-10, 10])
]   

# create an instance of the algorithm to optimize the booth test function and set its parameters
alg = firefly_algorithm(booth, var_list)

# define stopping criteria and optimize
alg.optimize(find_minimum=True, max_iter=10, sol_threshold=0.05)

# show the results!
print(f'best_value = {alg.best_value:.5f}')
print(f'best_position = {alg.best_position}')
print(f'n_iter = {alg.completed_iter}')
</code></pre>
<pre><code class="language-profile">best_value = 0.00290
best_position = {'x1': 1.0080388736395434, 'x2': 2.9699633384695314}
n_iter = 6
</code></pre>
<hr />
<h3 id="references">References</h3>
<p><a href="https://en.wikipedia.org/wiki/Firefly_algorithm">Firefly Algorithm on Wikipedia</a></p>
              
            </div>
          </div><footer>

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
  </div>

  Built with <a href="https://www.mkdocs.org/">MkDocs</a> using a <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
          
        </div>
      </div>

    </section>

  </div>

  <div class="rst-versions" role="note" aria-label="Versions">
  <span class="rst-current-version" data-toggle="rst-current-version">
    
    
      <span><a href="../differential_evolution/" style="color: #fcfcfc">&laquo; Previous</a></span>
    
    
      <span><a href="../mayfly_algorithm/" style="color: #fcfcfc">Next &raquo;</a></span>
    
  </span>
</div>
    <script>var base_url = '..';</script>
    <script src="../js/theme_extra.js" defer></script>
    <script src="../js/theme.js" defer></script>
      <script src="../search/main.js" defer></script>
    <script defer>
        window.onload = function () {
            SphinxRtdTheme.Navigation.enable(true);
        };
    </script>

</body>
</html>
